{% extends 'store/storeAdminDashboard.html' %}
{% from 'store/macros.html' import AddItem, storeItems %}

{% block content %}
<div class="dashboard-container">
    <!-- Left Sidebar -->
    <nav class="left-sidebar">
        <ul class="nav-links">
            <li class="nav-item active">
                <a href="#" class="nav-link">
                    <ion-icon name="storefront-outline"></ion-icon>
                    <span>Menu</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <ion-icon name="cart-outline"></ion-icon>
                    <span>Orders</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="{{ url_for('store-admin.logoutStore') }}" class="nav-link">
                    <ion-icon name="log-out-outline"></ion-icon>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </nav>


    <!-- Main Content Area -->
    <main class="main-content">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="store-info">
                <img src="{{url_for('static', filename='img/default_picture.jpg')}}" 
                     class="store-avatar" 
                     alt="Store Profile"
                     data-bs-toggle="modal" 
                     data-bs-target="#profilePictureModal">
                <div class="store-details">
                </div>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Search menu items...">
                <ion-icon name="search-outline"></ion-icon>
            </div>
        </nav>

        <!-- Add Item Button -->
        <div class="category-tabs">
            <button type="submit" class="btn btn-secondary" 
            data-bs-toggle="modal" 
            data-bs-target="#addItemModal" disabled>
                <ion-icon name="add-outline"></ion-icon>
                Add Item
            </button>
        </div>
   


        <!-- Menu Items Grid -->
        <div class="menu-grid">
           {% if not isPending %}
            <div style="width: 40rem;">
                <h1>Store Registration Rejected</h1>
                <p>Please refer to your email about the rejection details and re-register in this link</p>
                <a href="{{ url_for('auth.registerStore') }}" 
                    class="btn btn-primary d-inline-flex align-items-center gap-2">
                    <i class="bi bi-shield-lock"></i>
                    Register Again
                </a>
            </div>
           {% endif %}

           {% if isPending %}
            <div style="width: 40rem;">
                <h1>Store Registration Still in Progress</h1>
                <p>Please check your emails for updates regarding your registration</p>
            </div>
           {% endif %}
        </div>
        
    </main>

    <!-- Right Sidebar -->
<div>
    <aside class="right-sidebar">
        <div class="item-form">
            <h3>Orders</h3>
        </div>
    </aside>
</div>

<div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="addModalLabel">Add Item</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
    </div>
   </div>
  </div>
</div>

<!-- Profile Picture Modal -->
<div class="modal fade" id="profilePictureModal" tabindex="-1" aria-labelledby="profilePictureModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Profile Picture</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body text-center">
                <img src="{{url_for('static', filename='img/default_picture.jpg')}}" 
                     class="img-fluid rounded">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-warning" onclick="changeProfilePicture()" disabled>Change Picture</button>
            </div>
        </div>
    </div>
</div>

<!-- Add Item Modal -->



<style> 
</style>

<script>
function changeProfilePicture() {
    alert('Change picture functionality coming soon!');
}
</script>
{% endblock %}